> db.movieDetails.createIndex({"year": 1})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 1,
        "numIndexesAfter" : 2,
        "ok" : 1
}
> db.movieDetails.getIndexes()
[
        {
                "v" : 2,
                "key" : {
                        "_id" : 1
                },
                "name" : "_id_"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : 1
                },
                "name" : "year_1"
        }
]
> db.movieDetails.createIndex({"director": 1})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 2,
        "numIndexesAfter" : 3,
        "ok" : 1
}
> db.movieDetails.getIndexes()
[
        {
                "v" : 2,
                "key" : {
                        "_id" : 1
                },
                "name" : "_id_"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : 1
                },
                "name" : "year_1"
        },
        {
                "v" : 2,
                "key" : {
                        "director" : 1
                },
                "name" : "director_1"
        }
]
> db.movieDetails.dropIndex("director_1")
{ "nIndexesWas" : 3, "ok" : 1 }
> db.movieDetails.getIndexes()
[
        {
                "v" : 2,
                "key" : {
                        "_id" : 1
                },
                "name" : "_id_"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : 1
                },
                "name" : "year_1"
        }
]
> db.movieDetails.createIndex({"director": -1})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 2,
        "numIndexesAfter" : 3,
        "ok" : 1
}
> db.movieDetails.getIndexes()
[
        {
                "v" : 2,
                "key" : {
                        "_id" : 1
                },
                "name" : "_id_"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : 1
                },
                "name" : "year_1"
        },
        {
                "v" : 2,
                "key" : {
                        "director" : -1
                },
                "name" : "director_-1"
        }
]
> db.movieDetails.findOne()
{
        "_id" : ObjectId("5fe736e1baf49d224232f62e"),
        "title" : "Once Upon a Time in the West",
        "year" : 1968,
        "rated" : "PG-13",
        "runtime" : 175,
        "countries" : [
                "Italy",
                "USA",
                "Spain"
        ],
        "genres" : [
                "Western"
        ],
        "director" : "Sergio Leone",
        "writers" : [
                "Sergio Donati",
                "Sergio Leone",
                "Dario Argento",
                "Bernardo Bertolucci",
                "Sergio Leone"
        ],
        "actors" : [
                "Claudia Cardinale",
                "Henry Fonda",
                "Jason Robards",
                "Charles Bronson"
        ],
        "plot" : "Epic story of a mysterious stranger with a harmonica who joins forces with a notorious desperado to protect a beautiful widow from a ruthless assassin working for the railroad.",
        "poster" : "http://ia.media-imdb.com/images/M/MV5BMTEyODQzNDkzNjVeQTJeQWpwZ15BbWU4MDgyODk1NDEx._V1_SX300.jpg",
        "imdb" : {
                "id" : "tt0064116",
                "rating" : 8.6,
                "votes" : 201283
        },
        "tomato" : {
                "meter" : 98,
                "image" : "certified",
                "rating" : 9,
                "reviews" : 54,
                "fresh" : 53,
                "consensus" : "A landmark Sergio Leone spaghetti western masterpiece featuring a classic Morricone score.",
                "userMeter" : 95,
                "userRating" : 4.3,
                "userReviews" : 64006
        },
        "metacritic" : 80,
        "awards" : {
                "wins" : 4,
                "nominations" : 5,
                "text" : "4 wins & 5 nominations."
        },
        "type" : "movie"
}
> db.movieDetails.createIndex({ "awards.wins": 1 }, { "name": "Premios ganados"})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 3,
        "numIndexesAfter" : 4,
        "ok" : 1
}
> db.movieDetails.getIndexes()
[
        {
                "v" : 2,
                "key" : {
                        "_id" : 1
                },
                "name" : "_id_"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : 1
                },
                "name" : "year_1"
        },
        {
                "v" : 2,
                "key" : {
                        "director" : -1
                },
                "name" : "director_-1"
        },
        {
                "v" : 2,
                "key" : {
                        "awards.wins" : 1
                },
                "name" : "Premios ganados"
        }
]
> db.movieDetails.dropIndex("Premios ganadoS")
{
        "ok" : 0,
        "errmsg" : "index not found with name [Premios ganadoS]",
        "code" : 27,
        "codeName" : "IndexNotFound"
}
> db.movieDetails.dropIndex("Premios ganados")
{ "nIndexesWas" : 4, "ok" : 1 }
> db.movieDetails.getIndexes()
[
        {
                "v" : 2,
                "key" : {
                        "_id" : 1
                },
                "name" : "_id_"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : 1
                },
                "name" : "year_1"
        },
        {
                "v" : 2,
                "key" : {
                        "director" : -1
                },
                "name" : "director_-1"
        }
]
> db.movieDetails.createIndex({ year: 1, director: 1})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 3,
        "numIndexesAfter" : 4,
        "ok" : 1
}
> db.movieDetails.find()
{ "_id" : ObjectId("5fe736e1baf49d224232f62e"), "title" : "Once Upon a Time in the West", "year" : 1968, "rated" : "PG-13", "runtime" : 175, "countries" : [ "Italy", "USA", "Spain" ], "genres" : [ "Western" ], "director" : "Sergio Leone", "writers" : [ "Sergio Donati", "Sergio Leone", "Dario Argento", "Bernardo Bertolucci", "Sergio Leone" ], "actors" : [ "Claudia Cardinale", "Henry Fonda", "Jason Robards", "Charles Bronson" ], "plot" : "Epic story of a mysterious stranger with a harmonica who joins forces with a notorious desperado to protect a beautiful widow from a ruthless assassin working for the railroad.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTEyODQzNDkzNjVeQTJeQWpwZ15BbWU4MDgyODk1NDEx._V1_SX300.jpg", "imdb" : { "id" : "tt0064116", "rating" : 8.6, "votes" : 201283 }, "tomato" : { "meter" : 98, "image" : "certified", "rating" : 9, "reviews" : 54, "fresh" : 53, "consensus" : "A landmark Sergio Leone spaghetti western masterpiece featuring a classic Morricone score.", "userMeter" : 95, "userRating" : 4.3, "userReviews" : 64006 }, "metacritic" : 80, "awards" : { "wins" : 4, "nominations" : 5, "text" : "4 wins & 5 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f62f"), "title" : "A Million Ways to Die in the West", "year" : 2014, "rated" : "R", "runtime" : 116, "countries" : [ "USA" ], "genres" : [ "Comedy", "Western" ], "director" : "Seth MacFarlane", "writers" : [ "Seth MacFarlane", "Alec Sulkin", "Wellesley Wild" ], "actors" : [ "Seth MacFarlane", "Charlize Theron", "Amanda Seyfried", "Liam Neeson" ], "plot" : "As a cowardly farmer begins to fall for the mysterious new woman in town, he must put his new-found courage to the test when her husband, a notorious gun-slinger, announces his arrival.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTQ0NDcyNjg0MV5BMl5BanBnXkFtZTgwMzk4NTA4MTE@._V1_SX300.jpg", "imdb" : { "id" : "tt2557490", "rating" : 6.1, "votes" : 126592 }, "tomato" : { "meter" : 33, "image" : "rotten", "rating" : 4.9, "reviews" : 188, "fresh" : 62, "consensus" : "While it offers a few laughs and boasts a talented cast, Seth MacFarlane's overlong, aimless A Million Ways to Die in the West is a disappointingly scattershot affair.", "userMeter" : 40, "userRating" : 3, "userReviews" : 62945 }, "metacritic" : 44, "awards" : { "wins" : 0, "nominations" : 6, "text" : "6 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f630"), "title" : "Wild Wild West", "year" : 1999, "rated" : "PG-13", "runtime" : 106, "countries" : [ "USA" ], "genres" : [ "Action", "Western", "Comedy" ], "director" : "Barry Sonnenfeld", "writers" : [ "Jim Thomas", "John Thomas", "S.S. Wilson", "Brent Maddock", "Jeffrey Price", "Peter S. Seaman" ], "actors" : [ "Will Smith", "Kevin Kline", "Kenneth Branagh", "Salma Hayek" ], "plot" : "The two best hired guns in the West must save President Grant from the clutches of a nineteenth-century inventor-villain.", "poster" : "http://ia.media-imdb.com/images/M/MV5BNDI5NDk5MjgxMl5BMl5BanBnXkFtZTcwNjI1MTUyMQ@@._V1_SX300.jpg", "imdb" : { "id" : "tt0120891", "rating" : 4.8, "votes" : 124558 }, "tomato" : { "meter" : 17, "image" : "rotten", "rating" : 4.1, "reviews" : 130, "fresh" : 22, "consensus" : "Bombastic, manic, and largely laugh-free, Wild Wild West is a bizarre misfire in which greater care was lavished upon the special effects than on the script.", "userMeter" : 28, "userRating" : 2.7, "userReviews" : 463740 }, "metacritic" : 38, "awards" : { "wins" : 10, "nominations" : 11, "text" : "10 wins & 11 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f631"), "title" : "West Side Story", "year" : 1961, "rated" : "UNRATED", "runtime" : 152, "countries" : [ "USA" ], "genres" : [ "Crime", "Drama", "Musical" ], "director" : "Jerome Robbins, Robert Wise", "writers" : [ "Ernest Lehman", "Arthur Laurents", "Jerome Robbins" ], "actors" : [ "Natalie Wood", "Richard Beymer", "Russ Tamblyn", "Rita Moreno" ], "plot" : "Two youngsters from rival New York City gangs fall in love, but tensions between their respective friends build toward tragedy.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTM0NDAxOTI5MF5BMl5BanBnXkFtZTcwNjI4Mjg3NA@@._V1_SX300.jpg", "imdb" : { "id" : "tt0055614", "rating" : 7.6, "votes" : 67824 }, "awards" : { "wins" : 18, "nominations" : 11, "text" : "Won 10 Oscars. Another 18 wins & 11 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f632"), "title" : "Slow West", "year" : 2015, "rated" : "R", "runtime" : 84, "countries" : [ "UK", "New Zealand" ], "genres" : [ "Action", "Thriller", "Western" ], "director" : "John Maclean", "writers" : [ "John Maclean" ], "actors" : [ "Kodi Smit-McPhee", "Michael Fassbender", "Ben Mendelsohn", "Aorere Paki" ], "plot" : "A young Scottish man travels across America in pursuit of the woman he loves, attracting the attention of an outlaw who is willing to serve as a guide.", "poster" : "http://ia.media-imdb.com/images/M/MV5BNTYxNDA5ODk5NF5BMl5BanBnXkFtZTgwNzMwMzIwNTE@._V1_SX300.jpg", "imdb" : { "id" : "tt3205376", "rating" : 7, "votes" : 19101 }, "tomato" : { "meter" : 92, "image" : "certified", "rating" : 7.5, "reviews" : 115, "fresh" : 106, "consensus" : "Slow West serves as an impressive calling card for first-time writer-director John M. Maclean -- and offers an inventive treat for fans of the Western.", "userMeter" : 75, "userRating" : 3.7, "userReviews" : 9850 }, "metacritic" : 72, "awards" : { "wins" : 2, "nominations" : 9, "text" : "2 wins & 9 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f633"), "title" : "An American Tail: Fievel Goes West", "year" : 1991, "rated" : "G", "runtime" : 75, "countries" : [ "USA" ], "genres" : [ "Animation", "Adventure", "Family" ], "director" : "Phil Nibbelink, Simon Wells", "writers" : [ "Flint Dille", "Charles Swenson", "David Kirschner" ], "actors" : [ "Phillip Glasser", "James Stewart", "Erica Yohn", "Cathy Cavadini" ], "plot" : "A family of Emigre mice decide to move out to the west, unaware that they are falling into a trap perpetrated by a smooth talking cat.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTYzODMxNTUyNF5BMl5BanBnXkFtZTcwMTAwMzQyMQ@@._V1_SX300.jpg", "imdb" : { "id" : "tt0101329", "rating" : 6.4, "votes" : 16013 }, "awards" : { "wins" : 0, "nominations" : 0, "text" : "" }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f634"), "title" : "Red Rock West", "year" : 1993, "rated" : "R", "runtime" : 98, "countries" : [ "USA" ], "genres" : [ "Crime", "Drama", "Thriller" ], "director" : "John Dahl", "writers" : [ "John Dahl", "Rick Dahl" ], "actors" : [ "Nicolas Cage", "Dennis Hopper", "Lara Flynn Boyle", "J.T. Walsh" ], "plot" : "When a promised job for Texan Michael fails to materialise in Wyoming, Mike is mistaken by Wayne to be the hitman he hired to kill his unfaithful wife, Suzanne. Mike takes full advantage of...", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTk0Mjg4OTc3OF5BMl5BanBnXkFtZTYwNzgzOTg5._V1_SX300.jpg", "imdb" : { "id" : "tt0105226", "rating" : 7, "votes" : 15007 }, "awards" : { "wins" : 0, "nominations" : 3, "text" : "3 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f635"), "title" : "How the West Was Won", "year" : 1962, "rated" : "APPROVED", "runtime" : 164, "countries" : [ "USA" ], "genres" : [ "Western" ], "director" : "John Ford, Henry Hathaway, George Marshall, Richard Thorpe", "writers" : [ "James R. Webb" ], "actors" : [ "Carroll Baker", "Lee J. Cobb", "Henry Fonda", "Carolyn Jones" ], "plot" : "A family saga covering several decades of Westward expansion in the nineteenth century--including the Gold Rush, the Civil War, and the building of the railroads.", "poster" : "http://ia.media-imdb.com/images/M/MV5BNTk2NDk1NjY0MV5BMl5BanBnXkFtZTgwMzkzNTcxMTE@._V1_SX300.jpg", "imdb" : { "id" : "tt0056085", "rating" : 7.1, "votes" : 13640 }, "awards" : { "wins" : 7, "nominations" : 5, "text" : "Won 3 Oscars. Another 7 wins & 5 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f636"), "title" : "Journey to the West", "year" : 2013, "rated" : "PG-13", "runtime" : 110, "countries" : [ "China" ], "genres" : [ "Adventure", "Comedy", "Fantasy" ], "director" : "Stephen Chow, Chi-kin Kwok", "writers" : [ "Stephen Chow", "Chi-kin Kwok", "Xin Huo", "Yun Wang", "Chi Keung Fung", "Zhengyu Lu", "Shing-Cheung Lee", "Ivy Kong" ], "actors" : [ "Qi Shu", "Zhang Wen", "Bo Huang", "Show Luo" ], "plot" : "Tang Sanzang, an aspiring Buddhist hero tries to protect a village from three demons. He develops complex feelings for Miss Duan, the demon hunter who repeatedly helps him, and finally quests to meet the legendary Monkey King.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTQzMzUxNzk0NV5BMl5BanBnXkFtZTgwMTEwOTE4MDE@._V1_SX300.jpg", "imdb" : { "id" : "tt2017561", "rating" : 6.8, "votes" : 7111 }, "tomato" : { "meter" : 93, "image" : "fresh", "rating" : 7.2, "reviews" : 30, "fresh" : 28, "consensus" : "As sweet, silly, action-packed and ridiculous as director Steven Chow's best work, Journey to the West serves up dazzling action sequences while playing its disparate elements against each other with thrilling abandon.", "userMeter" : 68, "userRating" : 3.6, "userReviews" : 2198 }, "metacritic" : 68, "awards" : { "wins" : 1, "nominations" : 12, "text" : "1 win & 12 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f637"), "title" : "West of Memphis", "year" : 2012, "rated" : "R", "runtime" : 147, "countries" : [ "New Zealand", "USA" ], "genres" : [ "Documentary" ], "director" : "Amy Berg", "writers" : [ "Amy Berg", "Billy McMillin" ], "actors" : [ "Michael Baden", "Jason Baldwin", "Holly Ballard", "Jamie Clark Ballard" ], "plot" : "An examination of a failure of justice in the case against the West Memphis Three.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMjIzNDM3NjkzOV5BMl5BanBnXkFtZTcwNjI5Nzg0OA@@._V1_SX300.jpg", "imdb" : { "id" : "tt2130321", "rating" : 7.9, "votes" : 6627 }, "tomato" : { "meter" : 95, "image" : "certified", "rating" : 7.9, "reviews" : 111, "fresh" : 106, "consensus" : "Both a sobering look at a true crime story and a scathing indictment of the American justice system, West of Memphis is a real-life horror story told with fury and compassion.", "userMeter" : 87, "userRating" : 4.1, "userReviews" : 8482 }, "metacritic" : 80, "awards" : { "wins" : 0, "nominations" : 9, "text" : "Nominated for 1 BAFTA Film Award. Another 9 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f638"), "title" : "Star Wars: Episode IV - A New Hope", "year" : 1977, "rated" : "PG", "runtime" : 121, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "George Lucas", "writers" : [ "George Lucas" ], "actors" : [ "Mark Hamill", "Harrison Ford", "Carrie Fisher", "Peter Cushing" ], "plot" : "Luke Skywalker joins forces with a Jedi Knight, a cocky pilot, a wookiee and two droids to save the universe from the Empire's world-destroying battle-station, while also attempting to rescue Princess Leia from the evil Darth Vader.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTU4NTczODkwM15BMl5BanBnXkFtZTcwMzEyMTIyMw@@._V1_SX300.jpg", "imdb" : { "id" : "tt0076759", "rating" : 8.7, "votes" : 822849 }, "tomato" : { "meter" : 94, "image" : "certified", "rating" : 8.5, "reviews" : 99, "fresh" : 93, "consensus" : "A legendarily expansive and ambitious start to the sci-fi saga, George Lucas opened our eyes to the possibilities of blockbuster filmmaking and things have never been the same.", "userMeter" : 96, "userRating" : 4.1, "userReviews" : 851120 }, "metacritic" : 92, "awards" : { "wins" : 38, "nominations" : 27, "text" : "Won 6 Oscars. Another 38 wins & 27 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f639"), "title" : "Star Wars: Episode V - The Empire Strikes Back", "year" : 1980, "rated" : "PG", "runtime" : 124, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "Irvin Kershner", "writers" : [ "Leigh Brackett", "Lawrence Kasdan", "George Lucas" ], "actors" : [ "Mark Hamill", "Harrison Ford", "Carrie Fisher", "Billy Dee Williams" ], "plot" : "After the rebels have been brutally overpowered by the Empire on their newly established base, Luke Skywalker takes advanced Jedi training with Master Yoda, while his friends are pursued by Darth Vader as part of his plan to capture Luke.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMjE2MzQwMTgxN15BMl5BanBnXkFtZTcwMDQzNjk2OQ@@._V1_SX300.jpg", "imdb" : { "id" : "tt0080684", "rating" : 8.8, "votes" : 739949 }, "tomato" : { "meter" : 94, "image" : "certified", "rating" : 8.9, "reviews" : 87, "fresh" : 82, "consensus" : "Dark, sinister, but ultimately even more involving than A New Hope, The Empire Strikes Back defies viewer expectations and takes the series to heightened emotional levels.", "userMeter" : 97, "userRating" : 4.1, "userReviews" : 1045537 }, "metacritic" : 79, "awards" : { "wins" : 15, "nominations" : 17, "text" : "Won 1 Oscar. Another 15 wins & 17 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63a"), "title" : "Star Wars: Episode VI - Return of the Jedi", "year" : 1983, "rated" : "PG", "runtime" : 131, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "Richard Marquand", "writers" : [ "Lawrence Kasdan", "George Lucas", "George Lucas" ], "actors" : [ "Mark Hamill", "Harrison Ford", "Carrie Fisher", "Billy Dee Williams" ], "plot" : "After rescuing Han Solo from the palace of Jabba the Hutt, the rebels attempt to destroy the second Death Star, while Luke struggles to make Vader return from the dark side of the Force.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTQ0MzI1NjYwOF5BMl5BanBnXkFtZTgwODU3NDU2MTE@._V1._CR93,97,1209,1861_SX89_AL_.jpg_V1_SX300.jpg", "imdb" : { "id" : "tt0086190", "rating" : 8.4, "votes" : 623252 }, "tomato" : { "meter" : 80, "image" : "certified", "rating" : 7.2, "reviews" : 84, "fresh" : 67, "consensus" : "Though failing to reach the cinematic heights of its predecessors, Return of the Jedi remains an entertaining sci-fi adventure and a fitting end to the classic trilogy.", "userMeter" : 94, "userRating" : 4, "userReviews" : 1003937 }, "metacritic" : 52, "awards" : { "wins" : 15, "nominations" : 15, "text" : "Nominated for 4 Oscars. Another 15 wins & 15 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63b"), "title" : "Star Wars: Episode I - The Phantom Menace", "year" : 1999, "rated" : "PG", "runtime" : 136, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "George Lucas", "writers" : [ "George Lucas" ], "actors" : [ "Liam Neeson", "Ewan McGregor", "Natalie Portman", "Jake Lloyd" ], "plot" : "Two Jedi Knights escape a hostile blockade to find allies and come across a young boy who may bring balance to the Force, but the long dormant Sith resurface to reclaim their old glory.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTQ4NjEwNDA2Nl5BMl5BanBnXkFtZTcwNDUyNDQzNw@@._V1_SX300.jpg", "imdb" : { "id" : "tt0120915", "rating" : 6.5, "votes" : 494267 }, "tomato" : null, "metacritic" : 51, "awards" : { "wins" : 17, "nominations" : 59, "text" : "Nominated for 3 Oscars. Another 17 wins & 59 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63c"), "title" : "Star Wars: Episode III - Revenge of the Sith", "year" : 2005, "rated" : "PG-13", "runtime" : 140, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "George Lucas", "writers" : [ "George Lucas" ], "actors" : [ "Ewan McGregor", "Natalie Portman", "Hayden Christensen", "Ian McDiarmid" ], "plot" : "Three years after the onset of the Clone Wars; the noble Jedi Knights are spread out across the galaxy leading a massive clone army in the war against the Separatists. After Chancellor ...", "poster" : "http://ia.media-imdb.com/images/M/MV5BNTc4MTc3NTQ5OF5BMl5BanBnXkFtZTcwOTg0NjI4NA@@._V1_SX300.jpg", "imdb" : { "id" : "tt0121766", "rating" : 7.6, "votes" : 483613 }, "tomato" : { "meter" : 79, "image" : "certified", "rating" : 7.3, "reviews" : 282, "fresh" : 222, "consensus" : "With Episode III: Revenge of the Sith, George Lucas brings his second Star Wars trilogy to a suitably thrilling and often poignant -- if still a bit uneven -- conclusion.", "userMeter" : 65, "userRating" : 3.1, "userReviews" : 33674396 }, "metacritic" : 68, "awards" : { "wins" : 21, "nominations" : 49, "text" : "Nominated for 1 Oscar. Another 21 wins & 49 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63d"), "title" : "Star Trek", "year" : 2009, "rated" : "PG-13", "runtime" : 127, "countries" : [ "USA", "Germany" ], "genres" : [ "Action", "Adventure", "Sci-Fi" ], "director" : "J.J. Abrams", "writers" : [ "Roberto Orci", "Alex Kurtzman", "Gene Roddenberry" ], "actors" : [ "Chris Pine", "Zachary Quinto", "Leonard Nimoy", "Eric Bana" ], "plot" : "The brash James T. Kirk tries to live up to his father's legacy with Mr. Spock keeping him in check as a vengeful, time-traveling Romulan creates black holes to destroy the Federation one planet at a time.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMjE5NDQ5OTE4Ml5BMl5BanBnXkFtZTcwOTE3NDIzMw@@._V1_SX300.jpg", "imdb" : { "id" : "tt0796366", "rating" : 8, "votes" : 483229 }, "tomato" : { "meter" : 95, "image" : "certified", "rating" : 8.2, "reviews" : 329, "fresh" : 312, "consensus" : "Star Trek reignites a classic franchise with action, humor, a strong story, and brilliant visuals, and will please traditional Trekkies and new fans alike.", "userMeter" : 91, "userRating" : 4.1, "userReviews" : 743375 }, "metacritic" : 82, "awards" : { "wins" : 22, "nominations" : 77, "text" : "Won 1 Oscar. Another 22 wins & 77 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63e"), "title" : "Star Wars: Episode II - Attack of the Clones", "year" : 2002, "rated" : "PG", "runtime" : 142, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "George Lucas", "writers" : [ "George Lucas", "Jonathan Hales", "George Lucas" ], "actors" : [ "Ewan McGregor", "Natalie Portman", "Hayden Christensen", "Christopher Lee" ], "plot" : "Ten years after initially meeting, Anakin Skywalker shares a forbidden romance with PadmÃ©, while Obi-Wan investigates an assassination attempt on the Senator and discovers a secret clone army crafted for the Jedi.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTY5MjI5NTIwNl5BMl5BanBnXkFtZTYwMTM1Njg2._V1_SX300.jpg", "imdb" : { "id" : "tt0121765", "rating" : 6.7, "votes" : 425728 }, "tomato" : { "meter" : 66, "image" : "fresh", "rating" : 6.7, "reviews" : 242, "fresh" : 159, "consensus" : "Star Wars Episode II: Attack of the Clones benefits from an increased emphasis on thrilling action, although they're once again undercut by ponderous plot points and underdeveloped characters.", "userMeter" : 58, "userRating" : 3.3, "userReviews" : 844634 }, "metacritic" : 54, "awards" : { "wins" : 13, "nominations" : 47, "text" : "Nominated for 1 Oscar. Another 13 wins & 47 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63f"), "title" : "Star Trek Into Darkness", "year" : 2013, "rated" : "PG-13", "runtime" : 132, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Sci-Fi" ], "director" : "J.J. Abrams", "writers" : [ "Roberto Orci", "Alex Kurtzman", "Damon Lindelof", "Gene Roddenberry" ], "actors" : [ "Chris Pine", "Zachary Quinto", "Zoe Saldana", "Karl Urban" ], "plot" : "After the crew of the Enterprise find an unstoppable force of terror from within their own organization, Captain Kirk leads a manhunt to a war-zone world to capture a one-man weapon of mass destruction.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTk2NzczOTgxNF5BMl5BanBnXkFtZTcwODQ5ODczOQ@@._V1_SX300.jpg", "imdb" : { "id" : "tt1408101", "rating" : 7.8, "votes" : 370638 }, "tomato" : { "meter" : 87, "image" : "certified", "rating" : 7.6, "reviews" : 250, "fresh" : 217, "consensus" : "Visually spectacular and suitably action packed, Star Trek Into Darkness is a rock-solid installment in the venerable sci-fi franchise, even if it's not as fresh as its predecessor.", "userMeter" : 90, "userRating" : 4.2, "userReviews" : 309531 }, "metacritic" : 72, "awards" : { "wins" : 6, "nominations" : 44, "text" : "Nominated for 1 Oscar. Another 6 wins & 44 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f640"), "title" : "Star Trek: First Contact", "year" : 1996, "rated" : "PG-13", "runtime" : 111, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Sci-Fi" ], "director" : "Jonathan Frakes", "writers" : [ "Gene Roddenberry", "Rick Berman", "Brannon Braga", "Ronald D. Moore", "Brannon Braga", "Ronald D. Moore" ], "actors" : [ "Patrick Stewart", "Jonathan Frakes", "Brent Spiner", "LeVar Burton" ], "plot" : "The Borg go back in time intent on preventing Earth's first contact with an alien species. Captain Picard and his crew pursue them to ensure that Zefram Cochrane makes his maiden flight reaching warp speed.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTg4OTYwODY4MF5BMl5BanBnXkFtZTgwNTg2NjIyMDE@._V1_SX300.jpg", "imdb" : { "id" : "tt0117731", "rating" : 7.6, "votes" : 94153 }, "tomato" : { "meter" : 93, "image" : "certified", "rating" : 7.4, "reviews" : 55, "fresh" : 51, "consensus" : "While fans of the series will surely appreciate it, First Contact is exciting, engaging, and visually appealing enough to entertain Star Trek novices.", "userMeter" : 89, "userRating" : 3.6, "userReviews" : 99646 }, "metacritic" : 71, "awards" : { "wins" : 8, "nominations" : 19, "text" : "Nominated for 1 Oscar. Another 8 wins & 19 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f641"), "title" : "Star Trek II: The Wrath of Khan", "year" : 1982, "rated" : "PG", "runtime" : 113, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Drama" ], "director" : "Nicholas Meyer", "writers" : [ "Gene Roddenberry", "Harve Bennett", "Jack B. Sowards", "Jack B. Sowards" ], "actors" : [ "William Shatner", "Leonard Nimoy", "DeForest Kelley", "James Doohan" ], "plot" : "With the assistance of the Enterprise crew, Admiral Kirk must stop an old nemesis, Khan Noonien Singh, from using the life-generating Genesis Device as the ultimate weapon.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTcwNjc5NjA4N15BMl5BanBnXkFtZTcwNDk5MzI4OA@@._V1_SX300.jpg", "imdb" : { "id" : "tt0084726", "rating" : 7.7, "votes" : 86687 }, "tomato" : { "meter" : 88, "image" : "certified", "rating" : 8, "reviews" : 49, "fresh" : 43, "consensus" : "Considered by many fans to be the best of the Star Trek movies, Khan features a strong plot, increased tension, and a sharp supporting performance from Ricardo Montalban.", "userMeter" : 90, "userRating" : 3.8, "userReviews" : 84279 }, "metacritic" : 71, "awards" : { "wins" : 2, "nominations" : 9, "text" : "2 wins & 9 nominations." }, "type" : "movie" }
Type "it" for more
> db.movieDetails.find().explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {

                },
                "queryHash" : "8B3D4AB8",
                "planCacheKey" : "8B3D4AB8",
                "winningPlan" : {
                        "stage" : "COLLSCAN",
                        "direction" : "forward"
                },
                "rejectedPlans" : [ ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieDetails.find({ year: 1968} ).explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "year" : {
                                "$eq" : 1968
                        }
                },
                "queryHash" : "DA016D3B",
                "planCacheKey" : "473FE65F",
                "winningPlan" : {
                        "stage" : "FETCH",
                        "inputStage" : {
                                "stage" : "IXSCAN",
                                "keyPattern" : {
                                        "year" : 1
                                },
                                "indexName" : "year_1",
                                "isMultiKey" : false,
                                "multiKeyPaths" : {
                                        "year" : [ ]
                                },
                                "isUnique" : false,
                                "isSparse" : false,
                                "isPartial" : false,
                                "indexVersion" : 2,
                                "direction" : "forward",
                                "indexBounds" : {
                                        "year" : [
                                                "[1968.0, 1968.0]"
                                        ]
                                }
                        }
                },
                "rejectedPlans" : [
                        {
                                "stage" : "FETCH",
                                "inputStage" : {
                                        "stage" : "IXSCAN",
                                        "keyPattern" : {
                                                "year" : 1,
                                                "director" : 1
                                        },
                                        "indexName" : "year_1_director_1",
                                        "isMultiKey" : false,
                                        "multiKeyPaths" : {
                                                "year" : [ ],
                                                "director" : [ ]
                                        },
                                        "isUnique" : false,
                                        "isSparse" : false,
                                        "isPartial" : false,
                                        "indexVersion" : 2,
                                        "direction" : "forward",
                                        "indexBounds" : {
                                                "year" : [
                                                        "[1968.0, 1968.0]"
                                                ],
                                                "director" : [
                                                        "[MinKey, MaxKey]"
                                                ]
                                        }
                                }
                        }
                ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieDetails.find({ year: { $gt: 1960 } } ).explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "year" : {
                                "$gt" : 1960
                        }
                },
                "queryHash" : "C61C0A9D",
                "planCacheKey" : "7BCC6EAF",
                "winningPlan" : {
                        "stage" : "FETCH",
                        "inputStage" : {
                                "stage" : "IXSCAN",
                                "keyPattern" : {
                                        "year" : 1
                                },
                                "indexName" : "year_1",
                                "isMultiKey" : false,
                                "multiKeyPaths" : {
                                        "year" : [ ]
                                },
                                "isUnique" : false,
                                "isSparse" : false,
                                "isPartial" : false,
                                "indexVersion" : 2,
                                "direction" : "forward",
                                "indexBounds" : {
                                        "year" : [
                                                "(1960.0, inf.0]"
                                        ]
                                }
                        }
                },
                "rejectedPlans" : [
                        {
                                "stage" : "FETCH",
                                "inputStage" : {
                                        "stage" : "IXSCAN",
                                        "keyPattern" : {
                                                "year" : 1,
                                                "director" : 1
                                        },
                                        "indexName" : "year_1_director_1",
                                        "isMultiKey" : false,
                                        "multiKeyPaths" : {
                                                "year" : [ ],
                                                "director" : [ ]
                                        },
                                        "isUnique" : false,
                                        "isSparse" : false,
                                        "isPartial" : false,
                                        "indexVersion" : 2,
                                        "direction" : "forward",
                                        "indexBounds" : {
                                                "year" : [
                                                        "(1960.0, inf.0]"
                                                ],
                                                "director" : [
                                                        "[MinKey, MaxKey]"
                                                ]
                                        }
                                }
                        }
                ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieDetails.createIndex({ year: -1})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 4,
        "numIndexesAfter" : 5,
        "ok" : 1
}
> db.movieDetails.find({ year: { $gt: 1960 } } ).explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "year" : {
                                "$gt" : 1960
                        }
                },
                "queryHash" : "C61C0A9D",
                "planCacheKey" : "5DC46560",
                "winningPlan" : {
                        "stage" : "FETCH",
                        "inputStage" : {
                                "stage" : "IXSCAN",
                                "keyPattern" : {
                                        "year" : 1
                                },
                                "indexName" : "year_1",
                                "isMultiKey" : false,
                                "multiKeyPaths" : {
                                        "year" : [ ]
                                },
                                "isUnique" : false,
                                "isSparse" : false,
                                "isPartial" : false,
                                "indexVersion" : 2,
                                "direction" : "forward",
                                "indexBounds" : {
                                        "year" : [
                                                "(1960.0, inf.0]"
                                        ]
                                }
                        }
                },
                "rejectedPlans" : [
                        {
                                "stage" : "FETCH",
                                "inputStage" : {
                                        "stage" : "IXSCAN",
                                        "keyPattern" : {
                                                "year" : 1,
                                                "director" : 1
                                        },
                                        "indexName" : "year_1_director_1",
                                        "isMultiKey" : false,
                                        "multiKeyPaths" : {
                                                "year" : [ ],
                                                "director" : [ ]
                                        },
                                        "isUnique" : false,
                                        "isSparse" : false,
                                        "isPartial" : false,
                                        "indexVersion" : 2,
                                        "direction" : "forward",
                                        "indexBounds" : {
                                                "year" : [
                                                        "(1960.0, inf.0]"
                                                ],
                                                "director" : [
                                                        "[MinKey, MaxKey]"
                                                ]
                                        }
                                }
                        },
                        {
                                "stage" : "FETCH",
                                "inputStage" : {
                                        "stage" : "IXSCAN",
                                        "keyPattern" : {
                                                "year" : -1
                                        },
                                        "indexName" : "year_-1",
                                        "isMultiKey" : false,
                                        "multiKeyPaths" : {
                                                "year" : [ ]
                                        },
                                        "isUnique" : false,
                                        "isSparse" : false,
                                        "isPartial" : false,
                                        "indexVersion" : 2,
                                        "direction" : "forward",
                                        "indexBounds" : {
                                                "year" : [
                                                        "[inf.0, 1960.0)"
                                                ]
                                        }
                                }
                        }
                ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieDetails.find({ year: { $lt: 1960 } } ).explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "year" : {
                                "$lt" : 1960
                        }
                },
                "queryHash" : "5CBF6AE9",
                "planCacheKey" : "448C9F6D",
                "winningPlan" : {
                        "stage" : "FETCH",
                        "inputStage" : {
                                "stage" : "IXSCAN",
                                "keyPattern" : {
                                        "year" : 1
                                },
                                "indexName" : "year_1",
                                "isMultiKey" : false,
                                "multiKeyPaths" : {
                                        "year" : [ ]
                                },
                                "isUnique" : false,
                                "isSparse" : false,
                                "isPartial" : false,
                                "indexVersion" : 2,
                                "direction" : "forward",
                                "indexBounds" : {
                                        "year" : [
                                                "[-inf.0, 1960.0)"
                                        ]
                                }
                        }
                },
                "rejectedPlans" : [
                        {
                                "stage" : "FETCH",
                                "inputStage" : {
                                        "stage" : "IXSCAN",
                                        "keyPattern" : {
                                                "year" : 1,
                                                "director" : 1
                                        },
                                        "indexName" : "year_1_director_1",
                                        "isMultiKey" : false,
                                        "multiKeyPaths" : {
                                                "year" : [ ],
                                                "director" : [ ]
                                        },
                                        "isUnique" : false,
                                        "isSparse" : false,
                                        "isPartial" : false,
                                        "indexVersion" : 2,
                                        "direction" : "forward",
                                        "indexBounds" : {
                                                "year" : [
                                                        "[-inf.0, 1960.0)"
                                                ],
                                                "director" : [
                                                        "[MinKey, MaxKey]"
                                                ]
                                        }
                                }
                        },
                        {
                                "stage" : "FETCH",
                                "inputStage" : {
                                        "stage" : "IXSCAN",
                                        "keyPattern" : {
                                                "year" : -1
                                        },
                                        "indexName" : "year_-1",
                                        "isMultiKey" : false,
                                        "multiKeyPaths" : {
                                                "year" : [ ]
                                        },
                                        "isUnique" : false,
                                        "isSparse" : false,
                                        "isPartial" : false,
                                        "indexVersion" : 2,
                                        "direction" : "forward",
                                        "indexBounds" : {
                                                "year" : [
                                                        "(1960.0, -inf.0]"
                                                ]
                                        }
                                }
                        }
                ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieDetails.find({ director: "saraza"} ).explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "director" : {
                                "$eq" : "saraza"
                        }
                },
                "queryHash" : "033F2020",
                "planCacheKey" : "ACD9DE1E",
                "winningPlan" : {
                        "stage" : "FETCH",
                        "inputStage" : {
                                "stage" : "IXSCAN",
                                "keyPattern" : {
                                        "director" : -1
                                },
                                "indexName" : "director_-1",
                                "isMultiKey" : false,
                                "multiKeyPaths" : {
                                        "director" : [ ]
                                },
                                "isUnique" : false,
                                "isSparse" : false,
                                "isPartial" : false,
                                "indexVersion" : 2,
                                "direction" : "forward",
                                "indexBounds" : {
                                        "director" : [
                                                "[\"saraza\", \"saraza\"]"
                                        ]
                                }
                        }
                },
                "rejectedPlans" : [ ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieCollection.getIndexes()
[ ]
> db.movieDetails.getIndexes()
[
        {
                "v" : 2,
                "key" : {
                        "_id" : 1
                },
                "name" : "_id_"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : 1
                },
                "name" : "year_1"
        },
        {
                "v" : 2,
                "key" : {
                        "director" : -1
                },
                "name" : "director_-1"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : 1,
                        "director" : 1
                },
                "name" : "year_1_director_1"
        },
        {
                "v" : 2,
                "key" : {
                        "year" : -1
                },
                "name" : "year_-1"
        }
]
> db.movieDetails.dropIndex("directo_-1")
{
        "ok" : 0,
        "errmsg" : "index not found with name [directo_-1]",
        "code" : 27,
        "codeName" : "IndexNotFound"
}
> db.movieDetails.dropIndex("director_-1")
{ "nIndexesWas" : 5, "ok" : 1 }
> db.movieDetails.find({ director: "saraza"} ).explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "director" : {
                                "$eq" : "saraza"
                        }
                },
                "queryHash" : "033F2020",
                "planCacheKey" : "F23ABEFA",
                "winningPlan" : {
                        "stage" : "COLLSCAN",
                        "filter" : {
                                "director" : {
                                        "$eq" : "saraza"
                                }
                        },
                        "direction" : "forward"
                },
                "rejectedPlans" : [ ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieDetails.find({ director: "saraza"} ).explain("executionStats")
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "director" : {
                                "$eq" : "saraza"
                        }
                },
                "winningPlan" : {
                        "stage" : "COLLSCAN",
                        "filter" : {
                                "director" : {
                                        "$eq" : "saraza"
                                }
                        },
                        "direction" : "forward"
                },
                "rejectedPlans" : [ ]
        },
        "executionStats" : {
                "executionSuccess" : true,
                "nReturned" : 0,
                "executionTimeMillis" : 1,
                "totalKeysExamined" : 0,
                "totalDocsExamined" : 2234,
                "executionStages" : {
                        "stage" : "COLLSCAN",
                        "filter" : {
                                "director" : {
                                        "$eq" : "saraza"
                                }
                        },
                        "nReturned" : 0,
                        "executionTimeMillisEstimate" : 0,
                        "works" : 2236,
                        "advanced" : 0,
                        "needTime" : 2235,
                        "needYield" : 0,
                        "saveState" : 2,
                        "restoreState" : 2,
                        "isEOF" : 1,
                        "direction" : "forward",
                        "docsExamined" : 2234
                }
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieDetails.find({ year: { $eq: 1960 } } ).explain("executionStats")
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.movieDetails",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "year" : {
                                "$eq" : 1960
                        }
                },
                "winningPlan" : {
                        "stage" : "FETCH",
                        "inputStage" : {
                                "stage" : "IXSCAN",
                                "keyPattern" : {
                                        "year" : 1
                                },
                                "indexName" : "year_1",
                                "isMultiKey" : false,
                                "multiKeyPaths" : {
                                        "year" : [ ]
                                },
                                "isUnique" : false,
                                "isSparse" : false,
                                "isPartial" : false,
                                "indexVersion" : 2,
                                "direction" : "forward",
                                "indexBounds" : {
                                        "year" : [
                                                "[1960.0, 1960.0]"
                                        ]
                                }
                        }
                },
                "rejectedPlans" : [
                        {
                                "stage" : "FETCH",
                                "inputStage" : {
                                        "stage" : "IXSCAN",
                                        "keyPattern" : {
                                                "year" : 1,
                                                "director" : 1
                                        },
                                        "indexName" : "year_1_director_1",
                                        "isMultiKey" : false,
                                        "multiKeyPaths" : {
                                                "year" : [ ],
                                                "director" : [ ]
                                        },
                                        "isUnique" : false,
                                        "isSparse" : false,
                                        "isPartial" : false,
                                        "indexVersion" : 2,
                                        "direction" : "forward",
                                        "indexBounds" : {
                                                "year" : [
                                                        "[1960.0, 1960.0]"
                                                ],
                                                "director" : [
                                                        "[MinKey, MaxKey]"
                                                ]
                                        }
                                }
                        },
                        {
                                "stage" : "FETCH",
                                "inputStage" : {
                                        "stage" : "IXSCAN",
                                        "keyPattern" : {
                                                "year" : -1
                                        },
                                        "indexName" : "year_-1",
                                        "isMultiKey" : false,
                                        "multiKeyPaths" : {
                                                "year" : [ ]
                                        },
                                        "isUnique" : false,
                                        "isSparse" : false,
                                        "isPartial" : false,
                                        "indexVersion" : 2,
                                        "direction" : "forward",
                                        "indexBounds" : {
                                                "year" : [
                                                        "[1960.0, 1960.0]"
                                                ]
                                        }
                                }
                        }
                ]
        },
        "executionStats" : {
                "executionSuccess" : true,
                "nReturned" : 4,
                "executionTimeMillis" : 0,
                "totalKeysExamined" : 4,
                "totalDocsExamined" : 4,
                "executionStages" : {
                        "stage" : "FETCH",
                        "nReturned" : 4,
                        "executionTimeMillisEstimate" : 0,
                        "works" : 6,
                        "advanced" : 4,
                        "needTime" : 0,
                        "needYield" : 0,
                        "saveState" : 0,
                        "restoreState" : 0,
                        "isEOF" : 1,
                        "docsExamined" : 4,
                        "alreadyHasObj" : 0,
                        "inputStage" : {
                                "stage" : "IXSCAN",
                                "nReturned" : 4,
                                "executionTimeMillisEstimate" : 0,
                                "works" : 5,
                                "advanced" : 4,
                                "needTime" : 0,
                                "needYield" : 0,
                                "saveState" : 0,
                                "restoreState" : 0,
                                "isEOF" : 1,
                                "keyPattern" : {
                                        "year" : 1
                                },
                                "indexName" : "year_1",
                                "isMultiKey" : false,
                                "multiKeyPaths" : {
                                        "year" : [ ]
                                },
                                "isUnique" : false,
                                "isSparse" : false,
                                "isPartial" : false,
                                "indexVersion" : 2,
                                "direction" : "forward",
                                "indexBounds" : {
                                        "year" : [
                                                "[1960.0, 1960.0]"
                                        ]
                                },
                                "keysExamined" : 4,
                                "seeks" : 1,
                                "dupsTested" : 0,
                                "dupsDropped" : 0
                        }
                }
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.movieDetails.find()
{ "_id" : ObjectId("5fe736e1baf49d224232f62e"), "title" : "Once Upon a Time in the West", "year" : 1968, "rated" : "PG-13", "runtime" : 175, "countries" : [ "Italy", "USA", "Spain" ], "genres" : [ "Western" ], "director" : "Sergio Leone", "writers" : [ "Sergio Donati", "Sergio Leone", "Dario Argento", "Bernardo Bertolucci", "Sergio Leone" ], "actors" : [ "Claudia Cardinale", "Henry Fonda", "Jason Robards", "Charles Bronson" ], "plot" : "Epic story of a mysterious stranger with a harmonica who joins forces with a notorious desperado to protect a beautiful widow from a ruthless assassin working for the railroad.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTEyODQzNDkzNjVeQTJeQWpwZ15BbWU4MDgyODk1NDEx._V1_SX300.jpg", "imdb" : { "id" : "tt0064116", "rating" : 8.6, "votes" : 201283 }, "tomato" : { "meter" : 98, "image" : "certified", "rating" : 9, "reviews" : 54, "fresh" : 53, "consensus" : "A landmark Sergio Leone spaghetti western masterpiece featuring a classic Morricone score.", "userMeter" : 95, "userRating" : 4.3, "userReviews" : 64006 }, "metacritic" : 80, "awards" : { "wins" : 4, "nominations" : 5, "text" : "4 wins & 5 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f62f"), "title" : "A Million Ways to Die in the West", "year" : 2014, "rated" : "R", "runtime" : 116, "countries" : [ "USA" ], "genres" : [ "Comedy", "Western" ], "director" : "Seth MacFarlane", "writers" : [ "Seth MacFarlane", "Alec Sulkin", "Wellesley Wild" ], "actors" : [ "Seth MacFarlane", "Charlize Theron", "Amanda Seyfried", "Liam Neeson" ], "plot" : "As a cowardly farmer begins to fall for the mysterious new woman in town, he must put his new-found courage to the test when her husband, a notorious gun-slinger, announces his arrival.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTQ0NDcyNjg0MV5BMl5BanBnXkFtZTgwMzk4NTA4MTE@._V1_SX300.jpg", "imdb" : { "id" : "tt2557490", "rating" : 6.1, "votes" : 126592 }, "tomato" : { "meter" : 33, "image" : "rotten", "rating" : 4.9, "reviews" : 188, "fresh" : 62, "consensus" : "While it offers a few laughs and boasts a talented cast, Seth MacFarlane's overlong, aimless A Million Ways to Die in the West is a disappointingly scattershot affair.", "userMeter" : 40, "userRating" : 3, "userReviews" : 62945 }, "metacritic" : 44, "awards" : { "wins" : 0, "nominations" : 6, "text" : "6 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f630"), "title" : "Wild Wild West", "year" : 1999, "rated" : "PG-13", "runtime" : 106, "countries" : [ "USA" ], "genres" : [ "Action", "Western", "Comedy" ], "director" : "Barry Sonnenfeld", "writers" : [ "Jim Thomas", "John Thomas", "S.S. Wilson", "Brent Maddock", "Jeffrey Price", "Peter S. Seaman" ], "actors" : [ "Will Smith", "Kevin Kline", "Kenneth Branagh", "Salma Hayek" ], "plot" : "The two best hired guns in the West must save President Grant from the clutches of a nineteenth-century inventor-villain.", "poster" : "http://ia.media-imdb.com/images/M/MV5BNDI5NDk5MjgxMl5BMl5BanBnXkFtZTcwNjI1MTUyMQ@@._V1_SX300.jpg", "imdb" : { "id" : "tt0120891", "rating" : 4.8, "votes" : 124558 }, "tomato" : { "meter" : 17, "image" : "rotten", "rating" : 4.1, "reviews" : 130, "fresh" : 22, "consensus" : "Bombastic, manic, and largely laugh-free, Wild Wild West is a bizarre misfire in which greater care was lavished upon the special effects than on the script.", "userMeter" : 28, "userRating" : 2.7, "userReviews" : 463740 }, "metacritic" : 38, "awards" : { "wins" : 10, "nominations" : 11, "text" : "10 wins & 11 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f631"), "title" : "West Side Story", "year" : 1961, "rated" : "UNRATED", "runtime" : 152, "countries" : [ "USA" ], "genres" : [ "Crime", "Drama", "Musical" ], "director" : "Jerome Robbins, Robert Wise", "writers" : [ "Ernest Lehman", "Arthur Laurents", "Jerome Robbins" ], "actors" : [ "Natalie Wood", "Richard Beymer", "Russ Tamblyn", "Rita Moreno" ], "plot" : "Two youngsters from rival New York City gangs fall in love, but tensions between their respective friends build toward tragedy.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTM0NDAxOTI5MF5BMl5BanBnXkFtZTcwNjI4Mjg3NA@@._V1_SX300.jpg", "imdb" : { "id" : "tt0055614", "rating" : 7.6, "votes" : 67824 }, "awards" : { "wins" : 18, "nominations" : 11, "text" : "Won 10 Oscars. Another 18 wins & 11 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f632"), "title" : "Slow West", "year" : 2015, "rated" : "R", "runtime" : 84, "countries" : [ "UK", "New Zealand" ], "genres" : [ "Action", "Thriller", "Western" ], "director" : "John Maclean", "writers" : [ "John Maclean" ], "actors" : [ "Kodi Smit-McPhee", "Michael Fassbender", "Ben Mendelsohn", "Aorere Paki" ], "plot" : "A young Scottish man travels across America in pursuit of the woman he loves, attracting the attention of an outlaw who is willing to serve as a guide.", "poster" : "http://ia.media-imdb.com/images/M/MV5BNTYxNDA5ODk5NF5BMl5BanBnXkFtZTgwNzMwMzIwNTE@._V1_SX300.jpg", "imdb" : { "id" : "tt3205376", "rating" : 7, "votes" : 19101 }, "tomato" : { "meter" : 92, "image" : "certified", "rating" : 7.5, "reviews" : 115, "fresh" : 106, "consensus" : "Slow West serves as an impressive calling card for first-time writer-director John M. Maclean -- and offers an inventive treat for fans of the Western.", "userMeter" : 75, "userRating" : 3.7, "userReviews" : 9850 }, "metacritic" : 72, "awards" : { "wins" : 2, "nominations" : 9, "text" : "2 wins & 9 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f633"), "title" : "An American Tail: Fievel Goes West", "year" : 1991, "rated" : "G", "runtime" : 75, "countries" : [ "USA" ], "genres" : [ "Animation", "Adventure", "Family" ], "director" : "Phil Nibbelink, Simon Wells", "writers" : [ "Flint Dille", "Charles Swenson", "David Kirschner" ], "actors" : [ "Phillip Glasser", "James Stewart", "Erica Yohn", "Cathy Cavadini" ], "plot" : "A family of Emigre mice decide to move out to the west, unaware that they are falling into a trap perpetrated by a smooth talking cat.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTYzODMxNTUyNF5BMl5BanBnXkFtZTcwMTAwMzQyMQ@@._V1_SX300.jpg", "imdb" : { "id" : "tt0101329", "rating" : 6.4, "votes" : 16013 }, "awards" : { "wins" : 0, "nominations" : 0, "text" : "" }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f634"), "title" : "Red Rock West", "year" : 1993, "rated" : "R", "runtime" : 98, "countries" : [ "USA" ], "genres" : [ "Crime", "Drama", "Thriller" ], "director" : "John Dahl", "writers" : [ "John Dahl", "Rick Dahl" ], "actors" : [ "Nicolas Cage", "Dennis Hopper", "Lara Flynn Boyle", "J.T. Walsh" ], "plot" : "When a promised job for Texan Michael fails to materialise in Wyoming, Mike is mistaken by Wayne to be the hitman he hired to kill his unfaithful wife, Suzanne. Mike takes full advantage of...", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTk0Mjg4OTc3OF5BMl5BanBnXkFtZTYwNzgzOTg5._V1_SX300.jpg", "imdb" : { "id" : "tt0105226", "rating" : 7, "votes" : 15007 }, "awards" : { "wins" : 0, "nominations" : 3, "text" : "3 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f635"), "title" : "How the West Was Won", "year" : 1962, "rated" : "APPROVED", "runtime" : 164, "countries" : [ "USA" ], "genres" : [ "Western" ], "director" : "John Ford, Henry Hathaway, George Marshall, Richard Thorpe", "writers" : [ "James R. Webb" ], "actors" : [ "Carroll Baker", "Lee J. Cobb", "Henry Fonda", "Carolyn Jones" ], "plot" : "A family saga covering several decades of Westward expansion in the nineteenth century--including the Gold Rush, the Civil War, and the building of the railroads.", "poster" : "http://ia.media-imdb.com/images/M/MV5BNTk2NDk1NjY0MV5BMl5BanBnXkFtZTgwMzkzNTcxMTE@._V1_SX300.jpg", "imdb" : { "id" : "tt0056085", "rating" : 7.1, "votes" : 13640 }, "awards" : { "wins" : 7, "nominations" : 5, "text" : "Won 3 Oscars. Another 7 wins & 5 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f636"), "title" : "Journey to the West", "year" : 2013, "rated" : "PG-13", "runtime" : 110, "countries" : [ "China" ], "genres" : [ "Adventure", "Comedy", "Fantasy" ], "director" : "Stephen Chow, Chi-kin Kwok", "writers" : [ "Stephen Chow", "Chi-kin Kwok", "Xin Huo", "Yun Wang", "Chi Keung Fung", "Zhengyu Lu", "Shing-Cheung Lee", "Ivy Kong" ], "actors" : [ "Qi Shu", "Zhang Wen", "Bo Huang", "Show Luo" ], "plot" : "Tang Sanzang, an aspiring Buddhist hero tries to protect a village from three demons. He develops complex feelings for Miss Duan, the demon hunter who repeatedly helps him, and finally quests to meet the legendary Monkey King.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTQzMzUxNzk0NV5BMl5BanBnXkFtZTgwMTEwOTE4MDE@._V1_SX300.jpg", "imdb" : { "id" : "tt2017561", "rating" : 6.8, "votes" : 7111 }, "tomato" : { "meter" : 93, "image" : "fresh", "rating" : 7.2, "reviews" : 30, "fresh" : 28, "consensus" : "As sweet, silly, action-packed and ridiculous as director Steven Chow's best work, Journey to the West serves up dazzling action sequences while playing its disparate elements against each other with thrilling abandon.", "userMeter" : 68, "userRating" : 3.6, "userReviews" : 2198 }, "metacritic" : 68, "awards" : { "wins" : 1, "nominations" : 12, "text" : "1 win & 12 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f637"), "title" : "West of Memphis", "year" : 2012, "rated" : "R", "runtime" : 147, "countries" : [ "New Zealand", "USA" ], "genres" : [ "Documentary" ], "director" : "Amy Berg", "writers" : [ "Amy Berg", "Billy McMillin" ], "actors" : [ "Michael Baden", "Jason Baldwin", "Holly Ballard", "Jamie Clark Ballard" ], "plot" : "An examination of a failure of justice in the case against the West Memphis Three.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMjIzNDM3NjkzOV5BMl5BanBnXkFtZTcwNjI5Nzg0OA@@._V1_SX300.jpg", "imdb" : { "id" : "tt2130321", "rating" : 7.9, "votes" : 6627 }, "tomato" : { "meter" : 95, "image" : "certified", "rating" : 7.9, "reviews" : 111, "fresh" : 106, "consensus" : "Both a sobering look at a true crime story and a scathing indictment of the American justice system, West of Memphis is a real-life horror story told with fury and compassion.", "userMeter" : 87, "userRating" : 4.1, "userReviews" : 8482 }, "metacritic" : 80, "awards" : { "wins" : 0, "nominations" : 9, "text" : "Nominated for 1 BAFTA Film Award. Another 9 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f638"), "title" : "Star Wars: Episode IV - A New Hope", "year" : 1977, "rated" : "PG", "runtime" : 121, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "George Lucas", "writers" : [ "George Lucas" ], "actors" : [ "Mark Hamill", "Harrison Ford", "Carrie Fisher", "Peter Cushing" ], "plot" : "Luke Skywalker joins forces with a Jedi Knight, a cocky pilot, a wookiee and two droids to save the universe from the Empire's world-destroying battle-station, while also attempting to rescue Princess Leia from the evil Darth Vader.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTU4NTczODkwM15BMl5BanBnXkFtZTcwMzEyMTIyMw@@._V1_SX300.jpg", "imdb" : { "id" : "tt0076759", "rating" : 8.7, "votes" : 822849 }, "tomato" : { "meter" : 94, "image" : "certified", "rating" : 8.5, "reviews" : 99, "fresh" : 93, "consensus" : "A legendarily expansive and ambitious start to the sci-fi saga, George Lucas opened our eyes to the possibilities of blockbuster filmmaking and things have never been the same.", "userMeter" : 96, "userRating" : 4.1, "userReviews" : 851120 }, "metacritic" : 92, "awards" : { "wins" : 38, "nominations" : 27, "text" : "Won 6 Oscars. Another 38 wins & 27 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f639"), "title" : "Star Wars: Episode V - The Empire Strikes Back", "year" : 1980, "rated" : "PG", "runtime" : 124, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "Irvin Kershner", "writers" : [ "Leigh Brackett", "Lawrence Kasdan", "George Lucas" ], "actors" : [ "Mark Hamill", "Harrison Ford", "Carrie Fisher", "Billy Dee Williams" ], "plot" : "After the rebels have been brutally overpowered by the Empire on their newly established base, Luke Skywalker takes advanced Jedi training with Master Yoda, while his friends are pursued by Darth Vader as part of his plan to capture Luke.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMjE2MzQwMTgxN15BMl5BanBnXkFtZTcwMDQzNjk2OQ@@._V1_SX300.jpg", "imdb" : { "id" : "tt0080684", "rating" : 8.8, "votes" : 739949 }, "tomato" : { "meter" : 94, "image" : "certified", "rating" : 8.9, "reviews" : 87, "fresh" : 82, "consensus" : "Dark, sinister, but ultimately even more involving than A New Hope, The Empire Strikes Back defies viewer expectations and takes the series to heightened emotional levels.", "userMeter" : 97, "userRating" : 4.1, "userReviews" : 1045537 }, "metacritic" : 79, "awards" : { "wins" : 15, "nominations" : 17, "text" : "Won 1 Oscar. Another 15 wins & 17 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63a"), "title" : "Star Wars: Episode VI - Return of the Jedi", "year" : 1983, "rated" : "PG", "runtime" : 131, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "Richard Marquand", "writers" : [ "Lawrence Kasdan", "George Lucas", "George Lucas" ], "actors" : [ "Mark Hamill", "Harrison Ford", "Carrie Fisher", "Billy Dee Williams" ], "plot" : "After rescuing Han Solo from the palace of Jabba the Hutt, the rebels attempt to destroy the second Death Star, while Luke struggles to make Vader return from the dark side of the Force.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTQ0MzI1NjYwOF5BMl5BanBnXkFtZTgwODU3NDU2MTE@._V1._CR93,97,1209,1861_SX89_AL_.jpg_V1_SX300.jpg", "imdb" : { "id" : "tt0086190", "rating" : 8.4, "votes" : 623252 }, "tomato" : { "meter" : 80, "image" : "certified", "rating" : 7.2, "reviews" : 84, "fresh" : 67, "consensus" : "Though failing to reach the cinematic heights of its predecessors, Return of the Jedi remains an entertaining sci-fi adventure and a fitting end to the classic trilogy.", "userMeter" : 94, "userRating" : 4, "userReviews" : 1003937 }, "metacritic" : 52, "awards" : { "wins" : 15, "nominations" : 15, "text" : "Nominated for 4 Oscars. Another 15 wins & 15 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63b"), "title" : "Star Wars: Episode I - The Phantom Menace", "year" : 1999, "rated" : "PG", "runtime" : 136, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "George Lucas", "writers" : [ "George Lucas" ], "actors" : [ "Liam Neeson", "Ewan McGregor", "Natalie Portman", "Jake Lloyd" ], "plot" : "Two Jedi Knights escape a hostile blockade to find allies and come across a young boy who may bring balance to the Force, but the long dormant Sith resurface to reclaim their old glory.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTQ4NjEwNDA2Nl5BMl5BanBnXkFtZTcwNDUyNDQzNw@@._V1_SX300.jpg", "imdb" : { "id" : "tt0120915", "rating" : 6.5, "votes" : 494267 }, "tomato" : null, "metacritic" : 51, "awards" : { "wins" : 17, "nominations" : 59, "text" : "Nominated for 3 Oscars. Another 17 wins & 59 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63c"), "title" : "Star Wars: Episode III - Revenge of the Sith", "year" : 2005, "rated" : "PG-13", "runtime" : 140, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "George Lucas", "writers" : [ "George Lucas" ], "actors" : [ "Ewan McGregor", "Natalie Portman", "Hayden Christensen", "Ian McDiarmid" ], "plot" : "Three years after the onset of the Clone Wars; the noble Jedi Knights are spread out across the galaxy leading a massive clone army in the war against the Separatists. After Chancellor ...", "poster" : "http://ia.media-imdb.com/images/M/MV5BNTc4MTc3NTQ5OF5BMl5BanBnXkFtZTcwOTg0NjI4NA@@._V1_SX300.jpg", "imdb" : { "id" : "tt0121766", "rating" : 7.6, "votes" : 483613 }, "tomato" : { "meter" : 79, "image" : "certified", "rating" : 7.3, "reviews" : 282, "fresh" : 222, "consensus" : "With Episode III: Revenge of the Sith, George Lucas brings his second Star Wars trilogy to a suitably thrilling and often poignant -- if still a bit uneven -- conclusion.", "userMeter" : 65, "userRating" : 3.1, "userReviews" : 33674396 }, "metacritic" : 68, "awards" : { "wins" : 21, "nominations" : 49, "text" : "Nominated for 1 Oscar. Another 21 wins & 49 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63d"), "title" : "Star Trek", "year" : 2009, "rated" : "PG-13", "runtime" : 127, "countries" : [ "USA", "Germany" ], "genres" : [ "Action", "Adventure", "Sci-Fi" ], "director" : "J.J. Abrams", "writers" : [ "Roberto Orci", "Alex Kurtzman", "Gene Roddenberry" ], "actors" : [ "Chris Pine", "Zachary Quinto", "Leonard Nimoy", "Eric Bana" ], "plot" : "The brash James T. Kirk tries to live up to his father's legacy with Mr. Spock keeping him in check as a vengeful, time-traveling Romulan creates black holes to destroy the Federation one planet at a time.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMjE5NDQ5OTE4Ml5BMl5BanBnXkFtZTcwOTE3NDIzMw@@._V1_SX300.jpg", "imdb" : { "id" : "tt0796366", "rating" : 8, "votes" : 483229 }, "tomato" : { "meter" : 95, "image" : "certified", "rating" : 8.2, "reviews" : 329, "fresh" : 312, "consensus" : "Star Trek reignites a classic franchise with action, humor, a strong story, and brilliant visuals, and will please traditional Trekkies and new fans alike.", "userMeter" : 91, "userRating" : 4.1, "userReviews" : 743375 }, "metacritic" : 82, "awards" : { "wins" : 22, "nominations" : 77, "text" : "Won 1 Oscar. Another 22 wins & 77 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63e"), "title" : "Star Wars: Episode II - Attack of the Clones", "year" : 2002, "rated" : "PG", "runtime" : 142, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Fantasy" ], "director" : "George Lucas", "writers" : [ "George Lucas", "Jonathan Hales", "George Lucas" ], "actors" : [ "Ewan McGregor", "Natalie Portman", "Hayden Christensen", "Christopher Lee" ], "plot" : "Ten years after initially meeting, Anakin Skywalker shares a forbidden romance with PadmÃ©, while Obi-Wan investigates an assassination attempt on the Senator and discovers a secret clone army crafted for the Jedi.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTY5MjI5NTIwNl5BMl5BanBnXkFtZTYwMTM1Njg2._V1_SX300.jpg", "imdb" : { "id" : "tt0121765", "rating" : 6.7, "votes" : 425728 }, "tomato" : { "meter" : 66, "image" : "fresh", "rating" : 6.7, "reviews" : 242, "fresh" : 159, "consensus" : "Star Wars Episode II: Attack of the Clones benefits from an increased emphasis on thrilling action, although they're once again undercut by ponderous plot points and underdeveloped characters.", "userMeter" : 58, "userRating" : 3.3, "userReviews" : 844634 }, "metacritic" : 54, "awards" : { "wins" : 13, "nominations" : 47, "text" : "Nominated for 1 Oscar. Another 13 wins & 47 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f63f"), "title" : "Star Trek Into Darkness", "year" : 2013, "rated" : "PG-13", "runtime" : 132, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Sci-Fi" ], "director" : "J.J. Abrams", "writers" : [ "Roberto Orci", "Alex Kurtzman", "Damon Lindelof", "Gene Roddenberry" ], "actors" : [ "Chris Pine", "Zachary Quinto", "Zoe Saldana", "Karl Urban" ], "plot" : "After the crew of the Enterprise find an unstoppable force of terror from within their own organization, Captain Kirk leads a manhunt to a war-zone world to capture a one-man weapon of mass destruction.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTk2NzczOTgxNF5BMl5BanBnXkFtZTcwODQ5ODczOQ@@._V1_SX300.jpg", "imdb" : { "id" : "tt1408101", "rating" : 7.8, "votes" : 370638 }, "tomato" : { "meter" : 87, "image" : "certified", "rating" : 7.6, "reviews" : 250, "fresh" : 217, "consensus" : "Visually spectacular and suitably action packed, Star Trek Into Darkness is a rock-solid installment in the venerable sci-fi franchise, even if it's not as fresh as its predecessor.", "userMeter" : 90, "userRating" : 4.2, "userReviews" : 309531 }, "metacritic" : 72, "awards" : { "wins" : 6, "nominations" : 44, "text" : "Nominated for 1 Oscar. Another 6 wins & 44 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f640"), "title" : "Star Trek: First Contact", "year" : 1996, "rated" : "PG-13", "runtime" : 111, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Sci-Fi" ], "director" : "Jonathan Frakes", "writers" : [ "Gene Roddenberry", "Rick Berman", "Brannon Braga", "Ronald D. Moore", "Brannon Braga", "Ronald D. Moore" ], "actors" : [ "Patrick Stewart", "Jonathan Frakes", "Brent Spiner", "LeVar Burton" ], "plot" : "The Borg go back in time intent on preventing Earth's first contact with an alien species. Captain Picard and his crew pursue them to ensure that Zefram Cochrane makes his maiden flight reaching warp speed.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTg4OTYwODY4MF5BMl5BanBnXkFtZTgwNTg2NjIyMDE@._V1_SX300.jpg", "imdb" : { "id" : "tt0117731", "rating" : 7.6, "votes" : 94153 }, "tomato" : { "meter" : 93, "image" : "certified", "rating" : 7.4, "reviews" : 55, "fresh" : 51, "consensus" : "While fans of the series will surely appreciate it, First Contact is exciting, engaging, and visually appealing enough to entertain Star Trek novices.", "userMeter" : 89, "userRating" : 3.6, "userReviews" : 99646 }, "metacritic" : 71, "awards" : { "wins" : 8, "nominations" : 19, "text" : "Nominated for 1 Oscar. Another 8 wins & 19 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232f641"), "title" : "Star Trek II: The Wrath of Khan", "year" : 1982, "rated" : "PG", "runtime" : 113, "countries" : [ "USA" ], "genres" : [ "Action", "Adventure", "Drama" ], "director" : "Nicholas Meyer", "writers" : [ "Gene Roddenberry", "Harve Bennett", "Jack B. Sowards", "Jack B. Sowards" ], "actors" : [ "William Shatner", "Leonard Nimoy", "DeForest Kelley", "James Doohan" ], "plot" : "With the assistance of the Enterprise crew, Admiral Kirk must stop an old nemesis, Khan Noonien Singh, from using the life-generating Genesis Device as the ultimate weapon.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTcwNjc5NjA4N15BMl5BanBnXkFtZTcwNDk5MzI4OA@@._V1_SX300.jpg", "imdb" : { "id" : "tt0084726", "rating" : 7.7, "votes" : 86687 }, "tomato" : { "meter" : 88, "image" : "certified", "rating" : 8, "reviews" : 49, "fresh" : 43, "consensus" : "Considered by many fans to be the best of the Star Trek movies, Khan features a strong plot, increased tension, and a sharp supporting performance from Ricardo Montalban.", "userMeter" : 90, "userRating" : 3.8, "userReviews" : 84279 }, "metacritic" : 71, "awards" : { "wins" : 2, "nominations" : 9, "text" : "2 wins & 9 nominations." }, "type" : "movie" }
Type "it" for more
> db.movieDetails.findOne()
{
        "_id" : ObjectId("5fe736e1baf49d224232f62e"),
        "title" : "Once Upon a Time in the West",
        "year" : 1968,
        "rated" : "PG-13",
        "runtime" : 175,
        "countries" : [
                "Italy",
                "USA",
                "Spain"
        ],
        "genres" : [
                "Western"
        ],
        "director" : "Sergio Leone",
        "writers" : [
                "Sergio Donati",
                "Sergio Leone",
                "Dario Argento",
                "Bernardo Bertolucci",
                "Sergio Leone"
        ],
        "actors" : [
                "Claudia Cardinale",
                "Henry Fonda",
                "Jason Robards",
                "Charles Bronson"
        ],
        "plot" : "Epic story of a mysterious stranger with a harmonica who joins forces with a notorious desperado to protect a beautiful widow from a ruthless assassin working for the railroad.",
        "poster" : "http://ia.media-imdb.com/images/M/MV5BMTEyODQzNDkzNjVeQTJeQWpwZ15BbWU4MDgyODk1NDEx._V1_SX300.jpg",
        "imdb" : {
                "id" : "tt0064116",
                "rating" : 8.6,
                "votes" : 201283
        },
        "tomato" : {
                "meter" : 98,
                "image" : "certified",
                "rating" : 9,
                "reviews" : 54,
                "fresh" : 53,
                "consensus" : "A landmark Sergio Leone spaghetti western masterpiece featuring a classic Morricone score.",
                "userMeter" : 95,
                "userRating" : 4.3,
                "userReviews" : 64006
        },
        "metacritic" : 80,
        "awards" : {
                "wins" : 4,
                "nominations" : 5,
                "text" : "4 wins & 5 nominations."
        },
        "type" : "movie"
}
> db.movieDetails.createIndex({imdb.id: 1},{ name: "IXUnico",unique:true})
uncaught exception: SyntaxError: missing : after property id :
@(shell):1:33
> db.movieDetails.createIndex({"imdb.id": 1},{ name: "IXUnico",unique:true})
{
        "ok" : 0,
        "errmsg" : "Index build failed: b8eb672c-9294-4a16-972a-876217ef1531: Collection video.movieDetails ( 176bac0f-bfd7-44a3-b0fc-5feacb7a2819 ) :: caused by :: E11000 duplicate key error collection: video.movieDetails index: IXUnico dup key: { imdb.id: \"tt0435761\" }",
        "code" : 11000,
        "codeName" : "DuplicateKey",
        "keyPattern" : {
                "imdb.id" : 1
        },
        "keyValue" : {
                "imdb.id" : "tt0435761"
        }
}
> db.movieDetails.find({"imdb.id": "tt0435761"})
{ "_id" : ObjectId("5fe736e1baf49d224232f76f"), "title" : "Toy Story 3", "year" : 2010, "rated" : "G", "runtime" : 103, "countries" : [ "USA" ], "genres" : [ "Animation", "Adventure", "Comedy" ], "director" : "Lee Unkrich", "writers" : [ "John Lasseter", "Andrew Stanton", "Lee Unkrich", "Michael Arndt" ], "actors" : [ "Tom Hanks", "Tim Allen", "Joan Cusack", "Ned Beatty" ], "plot" : "The toys are mistakenly delivered to a day-care center instead of the attic right before Andy leaves for college, and it's up to Woody to convince the other toys that they weren't abandoned and to return home.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTgxOTY4Mjc0MF5BMl5BanBnXkFtZTcwNTA4MDQyMw@@._V1_SX300.jpg", "imdb" : { "id" : "tt0435761", "rating" : 8.4, "votes" : 500084 }, "tomato" : { "meter" : 99, "image" : "certified", "rating" : 8.9, "reviews" : 287, "fresh" : 283, "consensus" : "Deftly blending comedy, adventure, and honest emotion, Toy Story 3 is a rare second sequel that really works.", "userMeter" : 89, "userRating" : 4.3, "userReviews" : 602138 }, "metacritic" : 92, "awards" : { "wins" : 56, "nominations" : 86, "text" : "Won 2 Oscars. Another 56 wins & 86 nominations." }, "type" : "movie" }
{ "_id" : ObjectId("5fe736e1baf49d224232fee6"), "title" : "Toy Story 3", "year" : 2010, "rated" : "G", "runtime" : 103, "countries" : [ "USA" ], "genres" : [ "Animation", "Adventure", "Comedy" ], "director" : "Lee Unkrich", "writers" : [ "John Lasseter", "Andrew Stanton", "Lee Unkrich", "Michael Arndt" ], "actors" : [ "Tom Hanks", "Tim Allen", "Joan Cusack", "Ned Beatty" ], "plot" : "The toys are mistakenly delivered to a day-care center instead of the attic right before Andy leaves for college, and it's up to Woody to convince the other toys that they weren't abandoned and to return home.", "poster" : "http://ia.media-imdb.com/images/M/MV5BMTgxOTY4Mjc0MF5BMl5BanBnXkFtZTcwNTA4MDQyMw@@._V1_SX300.jpg", "imdb" : { "id" : "tt0435761", "rating" : 8.4, "votes" : 500084 }, "tomato" : { "meter" : 99, "image" : "certified", "rating" : 8.9, "reviews" : 287, "fresh" : 283, "consensus" : "Deftly blending comedy, adventure, and honest emotion, Toy Story 3 is a rare second sequel that really works.", "userMeter" : 89, "userRating" : 4.3, "userReviews" : 602138 }, "metacritic" : 92, "awards" : { "oscars" : [ { "bestAnimatedFeature" : "won" }, { "bestMusic" : "won" }, { "bestPicture" : "nominated" }, { "bestSoundEditing" : "nominated" }, { "bestScreenplay" : "nominated" } ], "wins" : 56, "nominations" : 86, "text" : "Won 2 Oscars. Another 56 wins & 86 nominations." }, "type" : "movie" }
> db.movieDetails.deleteOne({"imdb.id": "tt0435761"})
{ "acknowledged" : true, "deletedCount" : 1 }
> db.movieDetails.createIndex({"imdb.id": 1},{ name: "IXUnico",unique:true})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 4,
        "numIndexesAfter" : 5,
        "ok" : 1
}
> db.movieDetails.insert({"imdb": {"id": "tt0435761"}})
WriteResult({
        "nInserted" : 0,
        "writeError" : {
                "code" : 11000,
                "errmsg" : "E11000 duplicate key error collection: video.movieDetails index: IXUnico dup key: { imdb.id: \"tt0435761\" }"
        }
})
> db.personas.insert({nombre:"Andres",apellido:"Villa"})
WriteResult({ "nInserted" : 1 })
> db.personas.insert({nombre:"Blas",apellido:"Diaz", alumno: true})
WriteResult({ "nInserted" : 1 })
> db.personas.find()
{ "_id" : ObjectId("5fe74d546ec58565db617c0a"), "nombre" : "Andres", "apellido" : "Villa" }
{ "_id" : ObjectId("5fe74d666ec58565db617c0b"), "nombre" : "Blas", "apellido" : "Diaz", "alumno" : true }
> db.personas.createIndex({ alumno: 1 },{ sparse: true})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 1,
        "numIndexesAfter" : 2,
        "ok" : 1
}
> db.personas.dropIndexes()
{
        "nIndexesWas" : 2,
        "msg" : "non-_id indexes dropped for collection",
        "ok" : 1
}
> db.personas.createIndex({ alumno: 1 },{ sparse: false})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 1,
        "numIndexesAfter" : 2,
        "ok" : 1
}
> db.expiracion.insert([{ nombre: "doc_1", fecha: new Date("2019-05-02")} , { nombre: "doc_2", fecha: new Date("2020-12-26T12:05:00)}, {nombre: "doc_3", fecha: new Date("2021-03-01")}])
uncaught exception: SyntaxError: missing ) after argument list :
@(shell):1:143
> db.expiracion.insert([{ nombre: "doc_1", fecha: new Date("2019-05-02")} , { nombre: "doc_2", fecha: new Date("2020-12-26T12:05:00)}, {nombre: "doc_3", fecha: new Date("2021-03-01")}])
uncaught exception: SyntaxError: missing ) after argument list :
@(shell):1:143
> db.expiracion.insertMany([{ nombre: "doc_1", fecha: new Date("2019-05-02")} , { nombre: "doc_2", fecha: new Date("2020-12-26T12:05:00)}, {nombre: "doc_3", fecha: new Date("2021-03-01")}])
uncaught exception: SyntaxError: missing ) after argument list :
@(shell):1:147
> db.expiracion.insertMany([{ nombre: "doc_1", fecha: new Date("2019-05-02")} , { nombre: "doc_2", fecha: new Date("2020-12-26T12:05:00")}, {nombre: "doc_3", fecha: new Date("2021-03-01")}])
{
        "acknowledged" : true,
        "insertedIds" : [
                ObjectId("5fe74fe66ec58565db617c0c"),
                ObjectId("5fe74fe66ec58565db617c0d"),
                ObjectId("5fe74fe66ec58565db617c0e")
        ]
}
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0c"), "nombre" : "doc_1", "fecha" : ISODate("2019-05-02T00:00:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
> db.expiracion.insertMany([{ nombre: "doc_2", fecha: new Date("2020-12-26T09:05:00")}])
{
        "acknowledged" : true,
        "insertedIds" : [
                ObjectId("5fe7500f6ec58565db617c0f")
        ]
}
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0c"), "nombre" : "doc_1", "fecha" : ISODate("2019-05-02T00:00:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe7500f6ec58565db617c0f"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T12:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0c"), "nombre" : "doc_1", "fecha" : ISODate("2019-05-02T00:00:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe7500f6ec58565db617c0f"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T12:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0c"), "nombre" : "doc_1", "fecha" : ISODate("2019-05-02T00:00:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe7500f6ec58565db617c0f"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T12:05:00Z") }
> db.expiracion.createIndex({fecha:1}, { expireAfterSeconds: 60})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 1,
        "numIndexesAfter" : 2,
        "ok" : 1
}
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0c"), "nombre" : "doc_1", "fecha" : ISODate("2019-05-02T00:00:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe7500f6ec58565db617c0f"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T12:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
> db.expiracion.insertMany([{ nombre: "doc_5", fecha: new Date("2020-12-26T18:05:00")}])
{
        "acknowledged" : true,
        "insertedIds" : [
                ObjectId("5fe750d76ec58565db617c10")
        ]
}
> db.expiracion.insertMany([{ nombre: "doc_6", fecha: new Date("2020-12-26T00:05:00")}])
{
        "acknowledged" : true,
        "insertedIds" : [
                ObjectId("5fe750e26ec58565db617c11")
        ]
}
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe750e26ec58565db617c11"), "nombre" : "doc_6", "fecha" : ISODate("2020-12-26T03:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0d"), "nombre" : "doc_2", "fecha" : ISODate("2020-12-26T15:05:00Z") }
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
> db.expiracion.insert({ nombre: "saraza", fecha:10 }
... )
WriteResult({ "nInserted" : 1 })
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe756c46ec58565db617c12"), "nombre" : "saraza", "fecha" : 10 }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe756c46ec58565db617c12"), "nombre" : "saraza", "fecha" : 10 }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe756c46ec58565db617c12"), "nombre" : "saraza", "fecha" : 10 }
> db.expiracion.find()
{ "_id" : ObjectId("5fe74fe66ec58565db617c0e"), "nombre" : "doc_3", "fecha" : ISODate("2021-03-01T00:00:00Z") }
{ "_id" : ObjectId("5fe750d76ec58565db617c10"), "nombre" : "doc_5", "fecha" : ISODate("2020-12-26T21:05:00Z") }
{ "_id" : ObjectId("5fe756c46ec58565db617c12"), "nombre" : "saraza", "fecha" : 10 }
> db.location.insert({ ubicacion: { type: "Point", coordinates: [-73.58, 40.84] } })
WriteResult({ "nInserted" : 1 })
> db.location.find()
{ "_id" : ObjectId("5fe757166ec58565db617c13"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.58, 40.84 ] } }
> db.location.insert({ ubicacion: { type: "Point", coordinates: [-73.61, 40.34] } })
WriteResult({ "nInserted" : 1 })
> db.location.insert({ ubicacion: { type: "Point", coordinates: [-73.65, 40.14] } })
WriteResult({ "nInserted" : 1 })
> db.location.insert({ ubicacion: { type: "Point", coordinates: [-73.75, 40.04] } })
WriteResult({ "nInserted" : 1 })
> db.location.find()
{ "_id" : ObjectId("5fe757166ec58565db617c13"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.58, 40.84 ] } }
{ "_id" : ObjectId("5fe757336ec58565db617c14"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.61, 40.34 ] } }
{ "_id" : ObjectId("5fe7573b6ec58565db617c15"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.65, 40.14 ] } }
{ "_id" : ObjectId("5fe757426ec58565db617c16"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.75, 40.04 ] } }
> db.location.createIndex( {ubicacion: "2dsphere"})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 1,
        "numIndexesAfter" : 2,
        "ok" : 1
}
> db.location.find()
{ "_id" : ObjectId("5fe757166ec58565db617c13"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.58, 40.84 ] } }
{ "_id" : ObjectId("5fe757336ec58565db617c14"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.61, 40.34 ] } }
{ "_id" : ObjectId("5fe7573b6ec58565db617c15"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.65, 40.14 ] } }
{ "_id" : ObjectId("5fe757426ec58565db617c16"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.75, 40.04 ] } }
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]} } }  })
{ "_id" : ObjectId("5fe757426ec58565db617c16"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.75, 40.04 ] } }
{ "_id" : ObjectId("5fe7573b6ec58565db617c15"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.65, 40.14 ] } }
{ "_id" : ObjectId("5fe757336ec58565db617c14"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.61, 40.34 ] } }
{ "_id" : ObjectId("5fe757166ec58565db617c13"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.58, 40.84 ] } }
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 10 } }  })
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 100 } }  })
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 1000 } }  })
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 10000 } }  })
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 100000 } }  })
{ "_id" : ObjectId("5fe757426ec58565db617c16"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.75, 40.04 ] } }
{ "_id" : ObjectId("5fe7573b6ec58565db617c15"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.65, 40.14 ] } }
{ "_id" : ObjectId("5fe757336ec58565db617c14"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.61, 40.34 ] } }
{ "_id" : ObjectId("5fe757166ec58565db617c13"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.58, 40.84 ] } }
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 50000 } }  })
{ "_id" : ObjectId("5fe757426ec58565db617c16"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.75, 40.04 ] } }
{ "_id" : ObjectId("5fe7573b6ec58565db617c15"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.65, 40.14 ] } }
{ "_id" : ObjectId("5fe757336ec58565db617c14"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.61, 40.34 ] } }
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 40000 } }  })
{ "_id" : ObjectId("5fe757426ec58565db617c16"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.75, 40.04 ] } }
{ "_id" : ObjectId("5fe7573b6ec58565db617c15"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.65, 40.14 ] } }
{ "_id" : ObjectId("5fe757336ec58565db617c14"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.61, 40.34 ] } }
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 30000 } }  })
{ "_id" : ObjectId("5fe757426ec58565db617c16"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.75, 40.04 ] } }
{ "_id" : ObjectId("5fe7573b6ec58565db617c15"), "ubicacion" : { "type" : "Point", "coordinates" : [ -73.65, 40.14 ] } }
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 30000 } }  }).explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.location",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "ubicacion" : {
                                "$near" : {
                                        "$geometry" : {
                                                "type" : "Point",
                                                "coordinates" : [
                                                        -73.6,
                                                        40
                                                ]
                                        },
                                        "$maxDistance" : 30000
                                }
                        }
                },
                "queryHash" : "646588D1",
                "planCacheKey" : "B852544E",
                "winningPlan" : {
                        "stage" : "GEO_NEAR_2DSPHERE",
                        "keyPattern" : {
                                "ubicacion" : "2dsphere"
                        },
                        "indexName" : "ubicacion_2dsphere",
                        "indexVersion" : 2
                },
                "rejectedPlans" : [ ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.location.dropIndexes()
{
        "nIndexesWas" : 2,
        "msg" : "non-_id indexes dropped for collection",
        "ok" : 1
}
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 30000 } }  }).explain()
uncaught exception: Error: explain failed: {
        "ok" : 0,
        "errmsg" : "error processing query: ns=video.locationTree: GEONEAR  field=ubicacion maxdist=30000 isNearSphere=0\nSort: {}\nProj: {}\n planner returned error :: caused by :: unable to find index for $geoNear query",
        "code" : 291,
        "codeName" : "NoQueryExecutionPlans"
} :
_getErrorWithCode@src/mongo/shell/utils.js:25:13
throwOrReturn@src/mongo/shell/explainable.js:32:19
constructor/this.finish@src/mongo/shell/explain_query.js:171:24
DBQuery.prototype.explain@src/mongo/shell/query.js:532:12
@(shell):1:1
> db.location.createIndex( {ubicacion: "2dsphere"})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 1,
        "numIndexesAfter" : 2,
        "ok" : 1
}
> db.location.find({ "ubicacion": { $near: { $geometry: { type: "Point", coordinates: [-73.60,40]}, $maxDistance: 30000 } }  }).explain()
{
        "queryPlanner" : {
                "plannerVersion" : 1,
                "namespace" : "video.location",
                "indexFilterSet" : false,
                "parsedQuery" : {
                        "ubicacion" : {
                                "$near" : {
                                        "$geometry" : {
                                                "type" : "Point",
                                                "coordinates" : [
                                                        -73.6,
                                                        40
                                                ]
                                        },
                                        "$maxDistance" : 30000
                                }
                        }
                },
                "queryHash" : "646588D1",
                "planCacheKey" : "B852544E",
                "winningPlan" : {
                        "stage" : "GEO_NEAR_2DSPHERE",
                        "keyPattern" : {
                                "ubicacion" : "2dsphere"
                        },
                        "indexName" : "ubicacion_2dsphere",
                        "indexVersion" : 2
                },
                "rejectedPlans" : [ ]
        },
        "serverInfo" : {
                "host" : "DESKTOP-8E1HQ2J",
                "port" : 27017,
                "version" : "4.4.1",
                "gitVersion" : "ad91a93a5a31e175f5cbf8c69561e788bbc55ce1"
        },
        "ok" : 1
}
> db.location.dropIndexes()
{
        "nIndexesWas" : 2,
        "msg" : "non-_id indexes dropped for collection",
        "ok" : 1
}
> db.location.createIndex( {ubicacion: "2d"})
{
        "ok" : 0,
        "errmsg" : "Index build failed: f42c46cc-1859-407d-8a21-11d88c5f59aa: Collection video.location ( 16a5b506-6513-46d0-8d4c-2f6ef8f1d632 ) :: caused by :: location object expected, location array not in correct format",
        "code" : 16804,
        "codeName" : "Location16804"
}
> db.location2d.insert({ubicacion: [10,20]})
WriteResult({ "nInserted" : 1 })
> db.location2d.createIndex( {ubicacion: "2d"})
{
        "createdCollectionAutomatically" : false,
        "numIndexesBefore" : 1,
        "numIndexesAfter" : 2,
        "ok" : 1
}
>  